---
import type { Project } from "../data/projects";
import GithubLink from "./GithubLink.astro";

type Props = {
    project: Project;
};

const { project } = Astro.props as Props;
const tags = project.tags ?? [];
---

<article class="project-card" id={project.slug}>
    <div class="card-head">
        <div class="card-title-wrap">
            <span class="card-title">{project.name}</span>

            {project.private ? <span class="card-badge">closed source</span> : null}
        </div>
        <GithubLink url={project.githubUrl} label={project.name} />
    </div>
    <p set:html={project.description} />
    <div class="project-tags">
        {tags.map((tag) => <span class="card-badge tag-pill">{tag}</span>)}
    </div>
</article>
<style>
    .card-head {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
    }
    .card-title-wrap {
        display: flex;
        align-items: baseline;
        flex-wrap: wrap;
        gap: 0.6rem;
        min-width: 0;
    }
    .card-title {
        color: var(--ink);
        text-decoration: none;
        font-weight: 700;
        font-size: 1.05rem;
        min-width: 0;
        flex: 1 1 auto;
        overflow-wrap: normal;
        word-break: normal;
        hyphens: none;
    }
    .card-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.18rem 0.5rem;
        border-radius: 999px;
        border: 1px solid var(--border);
        color: var(--faint);
        font-size: 0.65rem;
        letter-spacing: 0.04em;
        line-height: 1;
        white-space: nowrap;
    }
    .project-card {
        padding: 1.2rem 1.3rem;
        border: 1px solid var(--border);
        border-radius: 18px;
        background: rgba(3, 4, 5, 0.72);
        box-shadow: 0 18px 40px rgba(0, 0, 0, 0.5);
        display: flex;
        flex-direction: column;
        gap: 0.6rem;
        min-height: 100%;
    }
    .project-card p {
        margin: 0;
        color: var(--muted);
        line-height: 1.5;
        font-size: 0.95rem;
        overflow-wrap: normal;
        word-break: normal;
        hyphens: none;
    }
    .project-card a {
        color: var(--accent);
        text-decoration: underline;
        text-decoration-thickness: 1px;
        text-underline-offset: 2px;
    }
    .project-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        align-items: center;
        line-height: 1;
        color: var(--faint);
        font-size: 0.75rem;
        margin-top: auto;
    }
    .tag-pill {
        padding: 0.25rem 0.75rem;
        min-height: 1.45rem;
        min-width: 2.6rem;
        border-radius: 0.75rem;
        background: rgba(230, 238, 230, 0.1);
        border-color: rgba(230, 238, 230, 0.32);
        color: var(--ink);
        font-size: 0.7rem;
        font-weight: 400;
        letter-spacing: 0.02em;
    }
</style>
