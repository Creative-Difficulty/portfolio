---
import "../global.css";
import CanvasBackground from "../components/CanvasBackground.astro";
import Footer from "../components/Footer.astro";
import TopBar from "../components/TopBar.astro";

const {
    title = "Alexander Leschanz",
    description = "",
    footerAtBottom = false,
} = Astro.props as {
    title?: string;
    description?: string;
    footerAtBottom?: boolean;
};
---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
        <title>{title}</title>
        {description ? <meta name="description" content={description} /> : null}
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous" />
        <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap" rel="stylesheet" />
        <style is:global>
            .overlay {
                position: relative;
                z-index: 1;
                min-height: 100vh;
                min-height: 100svh;
                min-height: 100dvh;
                display: flex;
                flex-direction: column;
                gap: clamp(0.5rem, 4vw, 2.5rem);
                padding: clamp(1.5rem, 5vw, 3.5rem);
                pointer-events: none;
            }
            .overlay > * {
                width: min(100%, var(--max-width));
                margin: 0 auto;
                pointer-events: none;
            }
            .overlay a,
            .overlay .button {
                pointer-events: auto;
            }
            .overlay.overlay-footer-bottom > .footer {
                margin-top: auto;
            }
        </style>
    </head>
    <body>
        <CanvasBackground />
        <div class:list={{ overlay: true, "overlay-footer-bottom": footerAtBottom }}>
            <TopBar />
            <slot />
            <Footer links={[{ label: "Back to home", href: "/" }]} />
        </div>
    </body>
</html>
